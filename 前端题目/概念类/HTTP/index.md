## 一文串联 HTTP / [ 0.9 | 1.0 | 1.1 | 2 | 3 ]
### http/0.9 （1991年）
- 请求端只支持 GET 请求
- 响应端只能返回 HTML 文本数据

痛点：
- 请求方法唯一，返回格式唯一
- TCP连接无法复用

## http/1.0 （1996年）
相比于 http 0.9:
1. 增加了 HTTP 头部字段,极大扩展了 HTTP 的使用场景
2. 版本的 HTTP 不仅可以传输文字，还能传输图像、视频、二进制文件
3. 请求端增加 HTTP 协议版本，响应端增加状态码。
4. 增加 POST、HEAD 方法
5. 请求端和响应端增加头部字段。
   1. Content-Type 让响应数据不只限于超文本。
   2. Expires、Last-Modified 缓存头
   3. Authorization 身份认证。
   4. Connection: keep-alive 支持长连接，但非标准。
6. 用 keep-alive 来告诉服务端要做持久化连接

痛点：
1.TCP连接无法复用。
2.HTTP 队头阻塞，一个 HTTP 请求响应结束之后，才能发起下一个 HTTP 请求。

## http/1.1（1999年）
1. 持久连接
HTTP/1.1 默认开启持久连接，在 TCP 连接建立后不立即关闭，让多个 HTTP 请求得以复用。
2. pipelining（管线化技术）
多个http请求不用排队发送，可以批量发送。但是批量发送的http请求，必须按照发送的顺序返回响应。
3. 支持响应分块
- HTTP/1.1 实现了流式渲染，响应端可以不用一次返回所有数据，可以将数据拆分成多个模块，产生一块数据，就发送一块数据，这样客户端就可以同步对数据进行处理，减少响应延迟，降低白屏时间。
- Bigpipe 的实现就是基于这个特性，具体是通过定义 Transfer-Encoding 头来实现的。
4. 增加Host头
- HTTP/1.1 实现了虚拟主机技术，将一台服务器分成若干个主机，这样就可以在一台服务器上部署多个网站了。
- 通过配置 Host 的域名和端口号，即可支持多个 HTTP 服务：Host: <domain>:<port>
5. 增加 Cache-control、E-Tag缓存头
6. 增加 PUT、PATCH、HEAD、 OPTIONS、DELETE 请求方法。

总结：
HTTP/1.1 可以并行发起多个请求，并且也能复用同一个 TCP 连接，传输效率得到了提升。但响应端只能按照发送的顺序进行返回，为此很多浏览器会为每个域名至多打开 6 个连接，用增加队列的方式减少 HTTP 队头阻塞。

痛点：
HTTP 队头阻塞没有彻底解决，响应端必须按照 HTTP 的发送顺序进行返回，如果排序靠前的响应特别耗时，则会阻塞排序靠后的所有响应。

## http/2.0（2015年）
1.帧，一段二进制数据，是 HTTP/2 传输的最小单位。
2.消息，一个请求或响应对应的一个或多个帧。
3.数据流，已建立的连接内的双向字节流，可以承载一条或多条消息。

核心特点：
1. 请求优先级
可以自定义多个数据流中的优先级标识，服务端根据这个标识来决定响应的优先级
2. 多路复用
3. 服务端推送
4. 头部压缩

优点：
1. 无对头阻塞，可以交替返回。发送请求时，既不需要排队发送，也不需要排队返回。对于头部信息，资源缓存等痛点也进行了优化，似乎已经是一种很完美的方案了。

痛点：
TCP核心是为了保证传输层的可靠性，但是传输效率并不好。

## http/3 

## 参考资料
[一文串联 HTTP / [ 0.9 | 1.0 | 1.1 | 2 | 3 ](https://mp.weixin.qq.com/s/R0dBfnkARzZ91AY27Ba4Sw)